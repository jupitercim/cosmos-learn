# Cosmos分布式交易所

Cosmos的一个重要用例是Cosmos分布式交易所。

_注意：本文档假定读者已经了解了Cosmos Hub和区域架构。_ 为了清晰起见，我们将像“比特币”和“以太坊”这样的代币称为“比特币”和“以太坊”，但实际上，这些代币并不是真正的比特币和以太坊本身，而是由比特币锚定区或以太坊锚定区发行的双向锚定版本。

## 分布式 vs 去中心化

我们对分布式交易所和去中心化交易所进行了区分。

去中心化交易所是指基于原子跨链交易或类似技术的交易所，其中两方之间的两种代币交换在各自的账本上进行结算。例如，狗狗币在狗狗币区块链上，莱特币在莱特币区块链上，由某些第三方脱机交易匹配服务匹配。另一种技术可能依赖于闪电网络或链接的支付通道。一般来说，去中心化交易所要求交易的双方都在线。

相比之下，分布式交易所是指基于分布式账本技术（也称为区块链）的交易所。交易者的订单被签名并提交到一个区块链上，在这里验证者（或在PoW链上的矿工）同意订单交易的顺序，并代表交易者执行订单。在分布式交易所中，交易者可以提交限价订单并离线；即使交易者的计算机/客户端离线，区块链也可以代表交易者执行这些订单。

## 分布式保管

中心化交易所的最大问题是它们接管了交易者的资金。长期以来，中心化加密货币交易所的历史已经表明，这种方式是不安全的。然而，交易者继续使用中心化交易所，因为他们没有更好的选择——中心化交易所的便利性、速度和交易量迄今为止一直很难超越。

本文档是一个更安全系统的蓝图，它具有中心化交易所的主要优势，但没有中心化（不安全的）对交易者资金的监管。

## 初始解决方案

考虑到Cosmos架构，可以创建一个分布式交易所区域（Cosmos Dex，或简称Dex），并让其附加到Cosmos Hub，让它接受来自Cosmos Hub的任何类型的代币，从Dex区域的角度来看，Hub区域是资金的“父”保管者，Hub正在委托有限的控制权给Dex，以便Dex可以根据自己的意愿处理交易订单。

为了最大化安全性和拜占庭容错性，Dex可以与Hub共享相同的验证者集合。Hub和Dex如何协调验证者集合变更以及PoS系统的详细信息超出了本文档的范围。

## 初始解决方案的问题

这种解决方案的问题是双重的。首先，即使Dex由Tendermint（或任何可叉可追溯的BFT中间件）提供支持，全球分布式验证者集合也必然需要一些时间来提交区块。众所周知，在部分同步或异步环境中，任何能够容忍高达1/3的拜占庭投票权